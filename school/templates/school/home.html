{% extends 'school/base.html' %}

{% block content %}

<h2>Welcome to Thuto Thebe Secondary School</h2>
<hr>

<h2>Latest Announcements</h2>

{% if latest_announcements %}
    <ul>
        {% for announcement in latest_announcements %}
            <li>
                <strong>{{ announcement.title }}</strong><br>
                {{ announcement.message }}<br>
                <small>{{ announcement.date_posted }}</small>
            </li>
            <br>
        {% endfor %}
    </ul>
{% else %}
    <p>No announcements available.</p>
{% endif %}

<p>
Thuto Thebe Secondary School is located in Standerton, Mpumalanga, approximately 5km from town.
The school was established in 1995.
</p>

<p>
We accommodate <strong>1090 learners</strong> and have <strong>33 staff members</strong> committed to quality education.
</p>

<hr>

<h2>Latest Announcements</h2>

{% if latest_announcements %}
    <div class="announcements">
        {% for announcement in latest_announcements %}
            <div class="announcement-card">
                <h4>{{ announcement.title }}</h4>
                <p>{{ announcement.message|truncatewords:25 }}</p>
                <small>Posted on {{ announcement.date_posted }}</small><br>
                <a class="read-more" href="/announcements/">Read more</a>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>No announcements available.</p>
{% endif %}

{% endblock %}
<script>
    let slides = document.querySelectorAll('.slide');
    let index = 0;

    setInterval(() => {
        slides[index].classList.remove('active');
        index = (index + 1) % slides.length;
        slides[index].classList.add('active');
    }, 4000);
</script>

{% load static %}

<div class="slider">
    <img src="{% static 'school/images/slide1.jpg' %}" class="slide active">
    <img src="{% static 'school/images/slide2.jpg' %}" class="slide">
    <img src="{% static 'school/images/slide3.jpg' %}" class="slide">
</div>